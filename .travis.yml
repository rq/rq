sudo: true
language: python
services:
  - redis
matrix:
  include:
    - python: "2.7"
      dist: xenial
    - python: "3.3"
      dist: trusty
    - python: "3.4"
      dist: trusty
    - python: "3.5"
      dist: xenial
    - python: "3.6"
      dist: xenial
    - python: "3.7"
      dist: xenial
    - python: "pypy"
      dist: trusty
install:
  - pip install -e .
  - pip install pytest-cov
  # - pip install coveralls
  - pip install codecov
  #- pip install pytest  # installed by Travis by default already
script:
  - RUN_SLOW_TESTS_TOO=1 py.test --cov rq --durations=5
after_success:
  - codecov
